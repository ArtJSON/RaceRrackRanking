<% layout('layouts/boilerplate') %> 
<div class="row">
    <h1 class="text-center">Add new photos to <%= racetrack.name %></h1>
    <div class="col-6 offset-3">
        <form action="/racetracks/<%= racetrack.id %>/photos" method="POST" novalidate class="validated-form" enctype="multipart/form-data">
            <div class="mb-3">
                <label class="form-label" for="img">Enter the images: </label>
                <input class="form-control" type="file" id="img" name="img" required multiple>
            </div>
            <div class="mb-3">
                <button class="btn btn-success">Add photos</button>
            </div>
        </form>
    </div>
    <h1 class="text-center">Or delete existing photos: </h1>
    <div class="col-8 offset-2">
        <form action="/racetracks/<%= racetrack.id %>/photos?_method=DELETE" method="POST" novalidate class="validated-form">
            <div class="mb-3">
                <div class="row row-cols-1 row-cols-md-2 g-4">
                    <% for(let img of racetrack.img) { %>
                        <div class="col">
                            <div class="card h-100">
                              <img src="<%= img.url %>" class="card-img-top">
                              <div class="card-body">
                                <input class="form-check-input" type="checkbox" value="<%= img.filename %>" name="imageNames[]" id="<%= img.filename %>">
                                <label class="form-check-label" for="<%= img.filename %>">
                                  Delete
                                </label>
                              </div>
                            </div>
                          </div>   
                    <% } %>
                  </div>
            </div>
            <div class="mb-3">
                <button class="btn btn-success">Remove photos</button>
                <a class="btn btn-primary" href="/racetracks/<%= racetrack.id %>">Quit editing</a>
            </div>
        </form>
    </div>
</div>

